<!-- <ng-template [appLoadingObservables]="[metadataLoaded]"> -->
<form [formGroup]="metadataForm" (ngSubmit)="onSubmit()">

  <div class="l-stickyBar">
    <div class="l-stickySidebar l-container">

      <div class="l-stickySidebar-x-content t-padding-medium t-padding-top">
        <!-- @formcard -->
        <div class="m-skillBackground l-skillBackground">

          <div class="t-margin-medium t-margin-bottom">
            <!-- {{render '@m-icontitle'}} -->
            <h3 class="m-iconTitle">
              <div class="m-iconTitle-x-icon">
                <svg class="t-icon" aria-hidden="true">
                  <use xlink:href="/assets/images/svg-defs.svg#icon-doc"></use>
                </svg>
              </div>
              <div class="m-iconTitle-x-label">{{pageTitle()}}</div>
            </h3>
          </div>

          <div class="t-margin-medium t-margin-bottom">
            <app-formfield-text
              [control]="metadataForm.controls.name"
              name="metadataName"
              label="Metadata Name"
              placeholder="Disseminate Intelligence"
              [includePlaceholder]="!this.id"
              required="true"
              [errorMessage]="nameErrorMessage"
            >
            </app-formfield-text>
          </div>

          <div class="t-margin-medium t-margin-bottom">
            <app-formfield-textarea
              [control]="metadataForm.controls.framework"
              required="true"
              name="metadataValue"
              label="Metadata value"
              placeholder="Disseminate items"
              [includePlaceholder]="!this.id"
              helpMessage='Provide metadata information'
              [errorMessage]="metadataErrorMessage"
            ></app-formfield-textarea>
          </div>
        </div>
      </div>


      <div class="l-stickySidebar-x-sidebar t-hidden-desktopMax">
        <div class="l-stickySidebar-x-sidebarContent t-padding-medium t-padding-top">
          <div class="l-actionBarVertical">

            <div class="l-actionBarVertical-x-message" *ngIf="!formValid">
              <p>Additional information required before you can save. Go to <a class="t-type-bodyLink t-link" href="#" (click)="handleClickMissingFields()">first required missing field</a>.</p>
            </div>

            <app-formfield-submit
              [formGroup]="metadataForm"
              [enabled]="formValid"
              [dirty]="formDirty"
              [observables]="[metadataSaved]"
              (errorsOccurred)="handleFormErrors($event)">
            </app-formfield-submit>

            <div class="l-actionBarVertical-x-items">

              <a class="m-actionBarItem" (click)="handleClickCancel()">
              <span class="m-actionBarItem-x-icon">
                <svg class="t-icon" aria-hidden="true">
                  <use xlink:href="assets/images/svg-defs.svg#icon-dismiss"></use>
                </svg>
              </span>
                <span class="m-actionBarItem-x-text">Cancel</span>
              </a>

            </div>

          </div>
        </div>
      </div>

    </div>

    <div class="l-stickyBar-x-bar t-hidden-desktopMin t-padding-medium t-padding-top">
      <!-- @actionbarhorizontal -->
    </div>
  </div>

</form>
<!-- </ng-template> -->
